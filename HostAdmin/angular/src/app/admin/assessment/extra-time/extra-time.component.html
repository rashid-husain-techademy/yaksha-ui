<div class="card">
    <div class="card-body">
        <h4 class="card-title mb-0"><span class="lstick"></span>{{constants.extendExamTime}}</h4>
        <div class="d-flex justify-space-between w-100 mt-4">
            <div class="d-flex w-70">
                <div class="w-30">
                    <input type="text" placeholder="{{constants.search}}" [(ngModel)]="searchString"
                        class="form-control " />
                </div>
                <button class="btn btn-info m-l-15" type="button" (click)="search()"><i
                        class="fas fa-search"></i></button>
                <button class="btn btn-secondary m-l-5" type="button" (click)="reset()">
                    <i class="fas fa-undo"></i>
                </button>
            </div>
            <div class="d-flex w-30">
                <input type="number" placeholder="{{constants.extendTime}}" class="form-control" [(ngModel)]="extraTime"
                    [disabled]="!isSaveAllEnabled">
                <button class="btn btn-info m-l-5" [disabled]="!isSaveAllEnabled"
                    (click)="onSaveAll()">{{constants.save}}</button>
            </div>
            <div>
            </div>
        </div>
        <table class="table table-striped border mt-4 schedule-table">
            <thead>
                <tr>
                    <th>
                        <input type="checkbox" [(ngModel)]="selectAll" (change)="selectAllRows()">
                    </th>
                    <th class="text-center">
                        {{constants.nameLabel}}
                    </th>
                    <th class="text-center">
                        {{constants.email}}
                    </th>
                    <th class="text-center">
                        {{constants.labelAttemptId}}
                    </th>
                    <th class="text-center">
                        {{constants.exsistingExtraTime}}
                    </th>
                    <th class="text-center">
                        {{constants.extendTime}}
                    </th>
                    <th class="text-center">
                        {{constants.actions}}
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of listUsersExtraTime">
                    <td>
                        <input type="checkbox" [(ngModel)]="item.selected" (change)="onRowCheckboxChange()">
                    </td>
                    <td class="text-center">
                        {{ item.name }}
                    </td>
                    <td class="text-center">
                        {{ item.email }}
                    </td>
                    <td class="text-center">
                        {{ item.attemptNumber }}
                    </td>
                    <td class="text-center">
                        {{ item.extraTime }}
                    </td>
                    <td class="text-center">
                        <input type="number" [(ngModel)]="item.extendTime" placeholder="{{constants.extendTime}}"
                            class="form-control" [disabled]="isSaveAllEnabled">
                    </td>
                    <td class="text-center">
                        <button class="btn btn-info ml-1 btn-sm"
                            [disabled]="isSaveAllEnabled || (!item.extendTime || item.extraTime >= item.extendTime)"
                            (click)="onSave(item)">{{constants.save}}</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="text-right">
            <button class="btn btn-secondary" (click)="close()">{{constants.cancel}}</button>
        </div>
    </div>
</div>